webpackJsonp([1],{0:function(t,e,s){s("j1ja"),t.exports=s("NHnr")},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),r=s("9DaO"),n=s.n(r),i=s("NO98"),a=s.n(i),l=s("Dd8w"),c=s.n(l),u=s("//Fk"),m=s.n(u),d=s("d7EF"),f=s.n(d),p=s("Meid"),h=s("NYxO"),v={state:{mobilityAssessment:null,parkSchoolAssessment:null},actions:{fetchDistricts:function(t,e){var s=t.commit,o=t.dispatch;return s("setMAD",null),s("setPSAD",null),p.loadModules(["esri/tasks/support/Query"]).then(function(t){var s=new(0,f()(t,1)[0]);return s.geometry=e,s.spatialRelationship="within",m.a.all([o("fetchMobilityDistrict",s),o("fetchParkSchoolDistrict",s)])})},fetchMobilityDistrict:function(t,e){var s=t.commit,o=t.getters;return p.loadModules(["esri/tasks/QueryTask"]).then(function(t){return new(0,f()(t,1)[0])({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/DSD_Viewer_Services/Mobility_Fees/MapServer/0"}).execute(e).then(function(t){if(!t.features.length)throw new Error("A Mobility District could not be determined.");s("setMAD",o.formatDistrictStr(t.features[0].attributes.DATA))})})},fetchParkSchoolDistrict:function(t,e){var s=t.commit,o=t.getters;return p.loadModules(["esri/tasks/QueryTask"]).then(function(t){return new(0,f()(t,1)[0])({url:"https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/infoLayers/MapServer/3"}).execute(e).then(function(t){if(!t.features.length)throw new Error("A Park/Schools Impact Fee Zone could not be determined.");s("setPSAD",o.formatDistrictStr(t.features[0].attributes.ZONE))})})}},mutations:{setMAD:function(t,e){t.mobilityAssessment=e},setPSAD:function(t,e){t.parkSchoolAssessment=e}},getters:{formatDistrictStr:function(t){return function(t){return t.charAt().toUpperCase()+t.toLowerCase().slice(1)}}}},g={computed:{madModel:{get:function(){return this.$store.state.districts.mobilityAssessment},set:function(t){this.setMAD(t)}},psadModel:{get:function(){return this.$store.state.districts.parkSchoolAssessment},set:function(t){this.setPSAD(t)}}},methods:c()({},Object(h.b)(["fetchDistricts"]),Object(h.d)(["setMAD","setPSAD"]))},_={"Single Family Detached":{Urban:{"0-499":2942,"500-749":2942,"750-999":2942,"1000-1249":2942,"1250-1499":2942,"1500-1999":3184,"2000-2499":3184,"2500-2999":3576,"3000-3999":3576,"4000+":3576},Rural:{"0-499":3609,"500-749":3609,"750-999":3609,"1000-1249":3609,"1250-1499":3609,"1500-1999":4611,"2000-2499":4611,"2500-2999":5176,"3000-3999":5176,"4000+":5176}},"Mobile Home":{Urban:{"0-499":1174,"500-749":1174,"750-999":1174,"1000-1249":1174,"1250-1499":1174,"1500-1999":1174,"2000-2499":1174,"2500-2999":1174,"3000-3999":1174,"4000+":1174},Rural:{"0-499":1703,"500-749":1703,"750-999":1703,"1000-1249":1703,"1250-1499":1703,"1500-1999":1703,"2000-2499":1703,"2500-2999":1703,"3000-3999":1703,"4000+":1703}}},b={"Single Family Detached":{Northwest:{1:317.2,2:317.2,3:421.6,4:517.34,"5+":593.31},Northeast:{1:264.9,2:264.9,3:352.09,4:432.04,"5+":495.49},Central:{1:313.53,2:313.53,3:416.72,4:511.36,"5+":586.45},South:{1:168.36,2:168.36,3:223.78,4:274.59,"5+":314.92}},"Mobile Home":{Northwest:{1:279.74,2:328.7,3:461.78,4:461.78,"5+":461.78},Northeast:{1:233.61,2:274.51,3:385.64,4:385.64,"5+":385.64},Central:{1:276.49,2:324.89,3:456.44,4:456.44,"5+":456.44},South:{1:148.48,2:174.46,3:245.1,4:245.1,"5+":245.1}}},y={"0-499":1207,"500-749":1774,"750-999":2357,"1000-1249":2793,"1250-1499":3146,"1500-1999":3565,"2000-2499":4e3,"2500-2999":4345,"3000-3999":4764,"4000+":5200},A={getters:{calculatePricing:function(t,e,s){return function(t){var e={mobility:0,park:0,school:0,fire:0};return t.housingType&&t.squareFootage&&s.districts.mobilityAssessment&&(e.mobility=_[t.housingType][s.districts.mobilityAssessment][t.squareFootage]),t.housingType&&t.bedrooms&&s.districts.parkSchoolAssessment&&(e.park=b[t.housingType][s.districts.parkSchoolAssessment][t.bedrooms]),t.squareFootage&&(e.school=y[t.squareFootage]),(t.housingType||t.bedrooms||t.squareFootage)&&(e.fire=48.66),e}}}},C={name:"calc-form",props:["title"],mixins:[g,{computed:Object(h.c)(["selectOptions"])},{computed:Object(h.c)(["calculatePricing"])}],data:function(){return{housingType:null,bedrooms:null,squareFootage:null}},methods:{reset:function(){this.housingType=null,this.bedrooms=null,this.squareFootage=null}},computed:{results:function(){return this.calculatePricing(this.$data)}},watch:{results:function(t){this.$emit("update",t)}}},w={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{staticClass:"card mb-3",attrs:{id:"calc-form"}},[s("strong",{staticClass:"card-header font-weight-bold"},[t._v(t._s(t.title))]),t._v(" "),s("div",{staticClass:"card-body"},[s("div",{staticClass:"form-group"},[s("label",[t._v("Housing Type")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.housingType,expression:"housingType"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.housingType=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}}),t._v(" "),t._l(t.selectOptions.housingType,function(e,o){return s("option",{key:o},[t._v(t._s(e))])})],2)]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Number of Bedrooms")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.bedrooms,expression:"bedrooms"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.bedrooms=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}}),t._v(" "),t._l(t.selectOptions.bedrooms,function(e,o){return s("option",{key:o},[t._v(t._s(e))])})],2)]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Living Area Square Footage Range")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.squareFootage,expression:"squareFootage"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.squareFootage=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}}),t._v(" "),t._l(t.selectOptions.squareFootage,function(e,o){return s("option",{key:o},[t._v(t._s(e))])})],2)]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Mobility Assessment District")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.madModel,expression:"madModel"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.madModel=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}}),t._v(" "),t._l(t.selectOptions.mobilityAssessmentDist,function(e,o){return s("option",{key:o},[t._v(t._s(e))])})],2)]),t._v(" "),s("div",{staticClass:"form-group"},[s("label",[t._v("Park/Schools Impact Fee Zone")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.psadModel,expression:"psadModel"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.psadModel=e.target.multiple?s:s[0]}}},[s("option",{domProps:{value:null}}),t._v(" "),t._l(t.selectOptions.parkSchoolAssessmentDist,function(e,o){return s("option",{key:o},[t._v(t._s(e))])})],2)])])])},staticRenderFns:[]},F=s("VU/8")(C,w,!1,null,null,null).exports,D=s("gRE1"),S=s.n(D),N=s("fZjL"),k=s.n(N),x=s("woOf"),$=s.n(x),M={state:{totals:{mobility:0,park:0,school:0,fire:0,total:0}},actions:{updateTotals:function(t,e){var s=t.commit,o={},r=$()({},e.formNew.results);if(e.formExisting){var n=$()({},e.formExisting.results);k()(r).forEach(function(t){var e=r[t]-n[t];o[t]=e>0?e:0})}else o=r;o.total=S()(o).reduce(function(t,e){return t+e}),s("setTotals",o)}},mutations:{setTotals:function(t,e){t.totals=e}}},T={methods:Object(h.b)(["updateTotals"]),computed:Object(h.e)({totals:function(t){return t.results.totals}})},P={name:"results",mixins:[T],methods:{currency:function(t){return t<=0?"-":"$"+t.toFixed(2)}}},O={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mb-3"},[s("strong",{staticClass:"card-header bg-secondary text-light font-weight-bold"},[t._v("\n    Balance Due\n  ")]),t._v(" "),s("table",{staticClass:"table table-striped border-0 mb-0"},[s("tbody",[s("tr",[s("th",[t._v("\n          Mobility Amount\n        ")]),t._v(" "),s("td",{staticClass:"text-right",attrs:{width:"10"}},[t._v("\n          "+t._s(t.currency(t.totals.mobility))+"\n        ")])]),t._v(" "),s("tr",[s("th",[t._v("\n          Park Amount\n        ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n          "+t._s(t.currency(t.totals.park))+"\n        ")])]),t._v(" "),s("tr",[s("th",[t._v("\n          School Amount\n        ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n          "+t._s(t.currency(t.totals.school))+"\n        ")])]),t._v(" "),s("tr",[s("th",[t._v("\n          Fire Amount\n        ")]),t._v(" "),s("td",{staticClass:"text-right"},[t._v("\n          "+t._s(t.currency(t.totals.fire))+"\n        ")])]),t._v(" "),s("tr",[s("th",[t._v("\n          TOTAL\n        ")]),t._v(" "),s("th",{staticClass:"text-right"},[t._v("\n          "+t._s(t.currency(t.totals.total))+"\n        ")])])])]),t._v(" "),t._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"card-footer small"},[e("em",[this._v("\n      All fees provided by this calculator are only estimates to assist in planning, actual fees will be assessed on building permits based on application data provided.\n    ")])])}]},E=s("VU/8")(P,O,!1,null,null,null).exports,R={name:"index",mixins:[g,T],components:{HcAddressParcelForm:n.a,HcErrorAlerts:a.a,CalcForm:F,Results:E},data:function(){return{formResult:{}}},methods:{formSearch:function(t){var e=this;this.$refs.addressForm.isSearching=!0,this.$refs.errorAlerts.clearAlerts(),t.then(function(t){return e.formResult=t,e.formResult.errors.forEach(function(t){throw t}),e.fetchDistricts(t.parcelData.geometry)}).catch(function(t){e.$refs.errorAlerts.addAlert(t)}).then(function(){e.$refs.addressForm.isSearching=!1})},touchCalcForms:function(t){this.updateTotals(this.$refs)}},watch:{"$store.state.isNewContruction":function(t){t&&confirm('This will remove the selections made in "Existing Home"')?this.$refs.formExisting.reset():this.$store.state.isNewContruction=!1,this.updateTotals(this.$refs)}}},q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("label",{staticClass:"font-weight-bold"},[t._v("Your Address")]),t._v(" "),s("p",{staticClass:"mb-2"},[t._v('\n    Your address will be used to populate the "Mobility Assessment District" and "Park/Schools Impact Fee Zone" fields below.\n  ')]),t._v(" "),s("HcAddressParcelForm",{ref:"addressForm",tag:"form",attrs:{"return-parcel-geometry":!0},on:{submit:t.formSearch}}),t._v(" "),s("HcErrorAlerts",{ref:"errorAlerts",tag:"div"}),t._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"font-weight-bold"},[t._v("New Construction")]),t._v(" "),s("div",{staticClass:"checkbox"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.isNewContruction,expression:"$store.state.isNewContruction"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.$store.state.isNewContruction)?t._i(t.$store.state.isNewContruction,null)>-1:t.$store.state.isNewContruction},on:{change:function(e){var s=t.$store.state.isNewContruction,o=e.target,r=!!o.checked;if(Array.isArray(s)){var n=t._i(s,null);o.checked?n<0&&t.$set(t.$store.state,"isNewContruction",s.concat([null])):n>-1&&t.$set(t.$store.state,"isNewContruction",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.$store.state,"isNewContruction",r)}}}),t._v("\n        This estimate is for a site with no existing home.\n      ")])])]),t._v(" "),s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-md-6"},[s("CalcForm",{ref:"formNew",tag:"form",attrs:{title:"New Home"},on:{update:t.touchCalcForms}})]),t._v(" "),t.$store.state.isNewContruction?t._e():s("div",{staticClass:"col-md-6"},[s("CalcForm",{ref:"formExisting",tag:"form",attrs:{title:"Existing Home"},on:{update:t.touchCalcForms}})]),t._v(" "),s("div",{staticClass:"col-md-6"},[s("Results",{tag:"div"})])])])},staticRenderFns:[]},H=s("VU/8")(R,q,!1,null,null,null).exports;o.a.use(h.a);var j=new h.a.Store({modules:{pricing:A,results:M,districts:v,selectOptions:{getters:{selectOptions:function(t){return{housingType:["Single Family Detached","Mobile Home"],bedrooms:[1,2,3,4,"5+"],squareFootage:["0-499","500-749","750-999","1000-1249","1250-1499","1500-1999","2000-2499","2500-2999","3000-3999","4000+"],mobilityAssessmentDist:["Urban","Rural"],parkSchoolAssessmentDist:["Northwest","Northeast","Central","South"]}}}}},state:{isNewContruction:!0}});o.a.config.productionTip=!1,new o.a({el:"#app",store:j,template:"<App/>",components:{App:H}})}},[0]);
//# sourceMappingURL=app.js.map